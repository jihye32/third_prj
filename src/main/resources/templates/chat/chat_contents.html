<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
</style>
<script type="text/javascript">
	$(function() {

	});
</script>
</head>
<body>

		<!-- <div class="h-full overflow-auto">
	<div class="flex flex-col justify-between w-full h-full bg-[#e9edef]">
		<div class="relative" th:object="${product}">
			<div class="flex items-center w-full gap-2 px-3 py-4 bg-white">
				<a class="flex flex-grow h-10 gap-4 flex-1" href="/product/224062120">
					<div class="relative w-10 h-10 aspect-square">
						<img alt="상품 썸네일" loading="lazy" decoding="async" data-nimg="fill" class="rounded-md"
						th:src="@{path/{thumbnail}(thumbnail=*{thumbnail})}" style="position: absolute; height: 100%; width: 100%; inset: 0px; color: transparent;">
					</div>
					<div>
						<div class="items-center">
							<span th:text="|*{#numbers.formatInteger(price,3,'COMMA')}원|" class="font-semibold text-[15px] text-jnGray-900">상품 가격</span>
						</div>
						<span th:text="*{title}" class="block text-[12px] break-all line-clamp-1">
						상품명</span>
					</div>
				</a>
			</div>
		</div>
		<div class="overflow-auto p-5 h-full">
			<div class="flex flex-col justify-between h-full w-inherit">
				<div>
					<p th:text="${'2026년 01월 12일'}" class="text-center text-[14px] py-4">
					첫 메시지거나 날짜가 변경될 때의 날짜 표기</p>
				</div>
				<div>
					<div type="textMessage">
						<div class="flex items-end w-auto mb-2 flex-start space-x-1">
							<div class="p-3 rounded-xl h-auto overflow-hidden rounded-tl bg-white w-auto">
								<p th:text="${'안녕하세요~'}" class="break-all whitespace-pre-wrap [&amp;&gt;a]:text-jngreen [&amp;&gt;a]:underline">
								상대방이 보낸 메시지</p>
							</div>
							<div class="flex flex-col">
								<span th:text="${'오후 5:19'}" class="block text-[13px] uppercase text-start">
								보낸 시간</span>
							</div>
						</div>
					</div>
				</div>
				<div type="textMessage">
					<div class="flex items-end w-auto mb-2 flex-start space-x-1 flex-row-reverse space-x-reverse">
						<div class="p-3 rounded-xl h-auto overflow-hidden rounded-tr bg-[#363C45] text-white w-auto">
							<p th:text="${'감사합니다.'}" class="break-all whitespace-pre-wrap [&amp;&gt;a]:text-jngreen [&amp;&gt;a]:underline">
							내가 보낸 메시지</p>
						</div>
						<div class="flex flex-col">
							<p th:text="${'읽음'}" class="mb-0 text-right text-[13px]">
							읽음 표시</p>
							<span th:text="${'오후 5:19'}" class="block text-[13px] uppercase text-end">
							보낸시간</span>
						</div>
					</div>
				</div>
				<div>
					<p class="text-center text-[14px] py-4">2026년 01월 13일</p>
				</div>
				<div type="productMessage">
					<div class="flex items-end w-auto mb-2 flex-start space-x-1 flex-row-reverse space-x-reverse">
						<div class="p-3 rounded-xl h-auto overflow-hidden rounded-tr bg-[#363C45] text-white w-[226px]">
							<a class="flex justify-between space-x-3" href="/product/224062120">
								<div class="flex flex-col justify-between">
									<span class="m-0 overflow-hidden text-sm font-semibold text-ellipsis break-all line-clamp-2">산리오 러브 말차 풀셋 미개봉</span>
									<span class="inline-block mt-1 mr-1 font-bold ">30,000원</span>
								</div>
								<div class="w-[60px] h-[60px] relative overflow-hidden">
									<img alt="산리오 러브 말차 풀셋 미개봉" loading="lazy" decoding="async" data-nimg="fill" class="self-center object-cover rounded-lg"
										src="https://img2.joongna.com/media/original/2026/01/13/1768284215254dFH_dNe6N.png?impolicy=resizeWatermark3&amp;ftext=%EC%85%8D%ED%99%8D" style="position: absolute; height: 100%; width: 100%; inset: 0px; color: transparent;">
								</div>
							</a>
							<button data-variant="flat" class="text-[13px] md:text-sm leading-4 items-center cursor-pointer transition ease-in-out duration-300 font-body justify-center border-0 border-transparent placeholder-white focus-visible:outline-none focus:outline-none w-full mt-[10px] text-center text-white font-bold rounded-lg bg-jngreen block h-[36px] px-3 md:px-3 lg:px-3 py-2 md:py-2 lg:py-2">구매하기</button>
						</div>
						<div class="flex flex-col">
							<p class="mb-0 text-right text-[13px]">읽음</p>
							<span class="block text-[13px] uppercase text-end">오후
								3:44</span>
						</div>
					</div>
				</div>
				<div type="textMessage">
					<div class="flex items-end w-auto mb-2 flex-start space-x-1 flex-row-reverse space-x-reverse">
						<div class="p-3 rounded-xl h-auto overflow-hidden rounded-tr bg-[#363C45] text-white w-auto">
							<p class="break-all whitespace-pre-wrap [&amp;&gt;a]:text-jngreen [&amp;&gt;a]:underline">안녕하세요. [산리오 러브 말차 풀셋 미개...] 보고 문의드립니다.</p>
						</div>
						<div class="flex flex-col">
							<p class="mb-0 text-right text-[13px]">읽음</p>
							<span class="block text-[13px] uppercase text-end">오후 3:44</span>
						</div>
					</div>
				</div>
			</div>
			<svg stroke="currentColor" fill="currentColor" stroke-width="0"
			viewBox="0 0 1024 1024"
			class="absolute right-4 bottom-[175px] cursor-pointer bg-gray-500 rounded-[50%]"
			height="36" width="36" xmlns="http://www.w3.org/2000/svg">
				<path d="M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0 0 48.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"></path></svg>
		</div>
	</div>
</div> -->
<th:block th:fragment="chatContentsForm">
<div class="h-full overflow-auto">
	<div class="flex flex-col justify-between w-full h-full bg-[#e9edef]" th:object="${product}">
		<input type="hidden" th:value="${roomNum}" id="room-num">
		<div></div>
		<div class="relative">
			<div class="flex items-center w-full gap-2 px-3 py-4 bg-white">
				<a class="flex flex-grow h-10 gap-4 flex-1" href="/product/224062120">
					<div class="relative w-10 h-10 aspect-square">
						<img alt="상품 썸네일" loading="lazy" decoding="async"
							data-nimg="fill" class="rounded-md"
							th:src="@{/상위경로/{thumbnail}(thumbnail=*{thumbnail})}"
							style="position: absolute; height: 100%; width: 100%; inset: 0px; color: transparent;">
					</div>
					<div>
						<div class="flex items-center">
							<span th:text="|*{#numbers.formatInteger(price,3,'COMMA')}원|" class="font-semibold text-[15px] text-jnGray-900">30,000원</span>
						</div>
						<span th:text="*{title}" class="block text-[12px] break-all line-clamp-1">산리오 러브 말차 풀셋 미개봉</span>
					</div></a>
			</div>
		</div>
		<div class="overflow-auto p-5 h-full">
			<div class="flex flex-col gap-2 h-full w-inherit" id="chat-messages">
			<!-- 채팅 내용 들어가는 곳 -->
			
			</div>
		</div>
	</div>
</div>
<div>
	<form id="chat-form"
		class="bg-[#F7F9FA] py-3 px-3 flex flex-col rounded-xl focus-within:shadow-banner h-auto">
		<textarea id="chat-input" title="채팅" autocomplete="off"
			maxlength="1000"
			class="shrink-0 bg-transparent placeholder:text-[#9CA3AF] outline-none resize-none text-md h-16 w-full pre-wrap"
			placeholder="메시지를 입력해주세요" name="chat"></textarea>
		<div class="flex justify-between mt-3">
			<div class="flex gap-2" id="chat-input-action-button-container">
				<div>
					<div class="block">
						<label for="chat-image-upload" class="text-sm font-semibold leading-none text-gray-600 cursor-pointer block border-[#e1e1e1] text-center border-0 m-0 p-0 w-6 h-6">
							<input id="chat-image-upload" name="chat-image-upload" type="file" class="peer px-4 md:px-5 appearance-none border text-input text-xs lg:text-sm font-body placeholder-body min-h-12 transition duration-200 ease-in-out bg-gray-100 border-gray-300 focus:shadow focus:bg-white focus:border-primary hidden w-auto py-0 rounded"
							autocomplete="off" spellcheck="false" aria-invalid="false" accept="image/png, image/jpeg, image/jpg" multiple="">
							<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-full h-full" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
								<path fill-rule="evenodd" d="M.002 3a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2h-12a2 2 0 01-2-2V3zm1 9l2.646-2.354a.5.5 0 01.63-.062l2.66 1.773 3.71-3.71a.5.5 0 01.577-.094L15.002 9.5V13a1 1 0 01-1 1h-12a1 1 0 01-1-1v-1zm5-6.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"
									clip-rule="evenodd">
								</path></svg>
						</label>
					</div>
				</div>
			</div>
			<div class="flex items-end space-x-2">
				<span class="text-sm leading-5 text-gray-400"><span id="chat-count">0</span> / 1000</span>
				<button id="send-chat" type="button" disabled="" class="w-6 h-6">
					<svg stroke="currentColor" fill="currentColor" stroke-width="0"
						viewBox="0 0 512 512" class="w-full h-full fill-[#9CA3AF]"
						height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
						<path
							d="M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm143.6 28.9l72.4-75.5V392c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24V209.4l72.4 75.5c9.3 9.7 24.8 9.9 34.3.4l10.9-11c9.4-9.4 9.4-24.6 0-33.9L273 107.7c-9.4-9.4-24.6-9.4-33.9 0L106.3 240.4c-9.4 9.4-9.4 24.6 0 33.9l10.9 11c9.6 9.5 25.1 9.3 34.4-.4z"></path></svg>
				</button>
			</div>
		</div>
	</form>
</div>

<template id="my-message">
<div type="textMessage">
	<div class="flex items-end w-auto mb-2 flex-start space-x-1 flex-row-reverse space-x-reverse">
		<div class="p-3 rounded-xl h-auto overflow-hidden rounded-tr bg-[#363C45] text-white w-auto">
			<p class="msg-text break-all whitespace-pre-wrap [&amp;&gt;a]:text-jngreen [&amp;&gt;a]:underline"></p>
		</div>
		<div class="flex flex-col">
			<p class="msg-read mb-0 text-right text-[13px]"></p>
			<span class="msg-time block text-[13px] uppercase text-end"></span>
		</div>
	</div>
</div>
</template>
<template id="other-message">
<div type="textMessage">
	<div class="flex items-end w-auto mb-2 flex-start space-x-1">
		<div class="p-3 rounded-xl h-auto overflow-hidden rounded-tl bg-white w-auto">
			<p th:text="${'안녕하세요~'}" class="break-all whitespace-pre-wrap [&amp;&gt;a]:text-jngreen [&amp;&gt;a]:underline">
			상대방이 보낸 메시지</p>
		</div>
		<div class="flex flex-col">
			<span th:text="${'오후 5:19'}" class="block text-[13px] uppercase text-start">
			보낸 시간</span>
		</div>
	</div>
</div>
</template>
</th:block>
</body>
</html>