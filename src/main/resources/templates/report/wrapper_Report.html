<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">

<script>
    function submitReport(event) {
      event.preventDefault(); // 페이지 새로고침 방지

      // 컨트롤러 PostMapping 주소로 요청
      fetch('/report/wrapper_reportDone', {
        method: 'POST',
      })
      .then(response => response.text()) // 서버에서 fragment 조각(HTML)을 텍스트로 받음
      .then(html => {
        // id가 report-container인 영역을 받은 HTML로 교체
        document.getElementById('report-container').innerHTML = html;
      })
      .catch(error => console.error('Error:', error));
    }
  </script>


<title>Insert title here</title>
</head>
<body>
	<!-- fragment 이름 바꿔주세요 -->
	<div th:fragment="fragmentReport" id="report-container">
	
		<main class="min-h-screen bg-gray-50 py-10 px-4">
  <article class="max-w-2xl mx-auto bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden">
    
    <div class="bg-blue-50 p-4 flex items-start gap-3 border-b border-blue-100">
      <svg class="w-6 h-6 text-blue-500 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"></path>
      </svg>
      <p class="text-sm text-blue-800 leading-relaxed">
        현재 신고량이 급증하여 대처가 지연되고 있습니다. 순차적으로 처리해드리고 있으니 회원 여러분의 양해를 부탁드립니다.
      </p>
    </div>

 <form onsubmit="submitReport(event)" class="p-6 space-y-4">
      
     <div class="space-y-3">
  <div class="relative">
    <select 
      class="w-full appearance-none px-4 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors cursor-pointer"
      name="reportType"
    >
      <option value="" disabled selected>신고유형을 선택해 주세요</option>
      <option value="illegal">불법 행위</option>
      <option value="scam">사기 피해</option>
      <option value="abuse">비매너 행위</option>
      <option value="spam">스팸성 홍보</option>
      <option value="other">기타 사유</option>
    </select>
    
    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-400">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
  </div>
</div>

      <div class="mt-4">
        <textarea 
          placeholder="신고 사유를 입력해주세요"
          class="w-full h-40 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none text-sm placeholder-gray-400"
        ></textarea>
      </div>

      <div class="space-y-2">
        <span class="text-sm font-semibold text-gray-700">사진/동영상 첨부</span>
        <div class="flex flex-wrap gap-3">
          <label class="cursor-pointer group">
            <input type="file" class="hidden" multiple accept="image/*,video/*">
            <div class="w-20 h-20 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-lg group-hover:border-blue-500 transition-colors">
              <svg class="w-8 h-8 text-gray-400 group-hover:text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
              </svg>
              <span class="text-xs text-gray-400 mt-1">0/10</span>
            </div>
          </label>
          <div id="qna-image-list" class="flex gap-2"></div>
        </div>
      </div>

      <div class="pt-4">
       <button type="submit" class="w-full py-4 bg-blue-600 text-white font-bold rounded-lg transition-colors">
  등록
</button>
      </div>

    </form>
  </article>
</main>
	
	</div>
	
	
	
	
</body>
</html>