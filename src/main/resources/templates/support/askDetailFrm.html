<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
<title>고객센터</title>
<link th:href="@{/css/output.css}" rel="stylesheet">
<link th:href="@{/css/test.css}" rel="stylesheet">
<style>
</style>
<!-- JQuery CDN -->
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script type="text/javascript">
	$(function() {

	});
</script>
</head>
<body>
	<div id="__next">
		<div class="flex flex-col min-h-screen bg-white">
			<div th:replace="~{template/header :: headerImgFragment}"></div>
			<div th:replace="~{template/header :: headerFragment}"></div>

			<main class="relative flex-grow border-b-2"
				style="min-height: 500px; padding-bottom: 100px">
				<div
					class="mx-auto max-w-[1280px] px-5 md:px-8 2xl:px-16 box-content">
					<article
						class="flex flex-col justify-center mx-auto mt-6 w-full lg:mt-8 md:w-1/2">
						<div class="flex flex-col space-y-5">
							<h2
								class="text-2xl font-semibold text-jnGray-900 mt-8 text-center">고객센터</h2>
							<div class="h-[1px] bg-jnGray-900 my-5 "></div>
						</div>

						<div
							class="flex items-center mt-8 mb-4 border-t border-b border-solid border-jnGray-300"
							style="border-top: 0; margin-top: 0; margin-bottom: 30px">

							<a th:href="@{/support/askFrm}">
								<svg width="20" height="20" viewBox="0 0 20 20" fill="none"
									xmlns="http://www.w3.org/2000/svg"
									class="rotate-90 rotate-[0deg]">
									<g clip-path="url(#clip0_2224_69059)">
										<path d="M4.25 7L10 12.75L15.75 7" stroke="currentColor"
											stroke-width="1.5" stroke-linecap="round"
											stroke-linejoin="round"></path>
									</g>
									<defs>
										<clipPath id="clip0_2224_69059">
											<rect width="20" height="20" fill="white"></rect>
										</clipPath>
									</defs>
								</svg>
							</a>

							<div class="flex flex-col flex-1 justify-between items-start px-5 py-4 mr-2 w-full"
							     style="margin: 10px 0">

								<span class="text-sm font-normal text-left text-jnGray-900 text-start md:tracking-tight"
								      th:text="${detail != null ? detail.askTitle : '존재하지 않는 문의입니다.'}">
									문의 제목
								</span>

								<div th:if="${detail != null}" class="flex items-center gap-2 mt-1">
									<span class="text-xs font-medium text-jnGray-500"
									      th:text="${detail.askTypeText}">문의유형</span>
									<span class="text-xs font-medium text-jnGray-400">·</span>
									<span class="text-xs font-medium text-jnGray-500"
									      th:text="${#dates.format(detail.askDate,'yyyy-MM-dd')}">2026-02-10</span>
									<span class="text-xs font-medium text-jnGray-400">·</span>
									<span class="text-xs font-medium"
									      th:text="${detail.answerStatus}">미답변</span>
								</div>
							</div>
						</div>

						<div th:if="${detail != null}">
							<div class="text-[15px] text-jnGray-900 leading-relaxed whitespace-pre-line"
							     th:text="${detail.askText}">
								문의내용
							</div>

				<div th:if="${detail != null and detail.imgList != null and !#lists.isEmpty(detail.imgList)}"
							     class="mt-6">
							  <div class="grid grid-cols-2 gap-3">
							    <img th:each="img : ${detail.imgList}"
							         th:src="@{'/upload/ask/' + ${img}}"
							         alt="문의이미지"
							         class="w-full rounded border border-jnGray-300" />
							  </div>
							</div>



							<!-- 답변 -->
							<div class="mt-8 pt-6 border-t border-jnGray-300"
							     th:if="${detail.answerText != null}">
								<div class="text-sm font-semibold text-jnGray-900">관리자 답변</div>
								<div class="mt-1 text-xs font-medium text-jnGray-500"
								     th:text="${#dates.format(detail.answerDate,'yyyy-MM-dd')}">2026-02-10</div>
								<div class="mt-3 text-[15px] text-jnGray-900 leading-relaxed whitespace-pre-line"
								     th:text="${detail.answerText}">
									답변내용
								</div>
							</div>

							<div class="mt-8 pt-6 border-t border-jnGray-300 text-jnGray-500"
							     th:if="${detail.answerText == null}">
								아직 답변이 등록되지 않았습니다.
							</div>
						</div>
						
						<div th:if="${detail != null}" class="mt-8 flex justify-end">
    <div th:if="${detail.answerText == null}">
        <a th:href="@{/support/askUpdateFrm(askNum=${detail.askNum})}" 
           class="inline-block px-6 py-2 bg-black text-white rounded-md text-sm">
            문의 수정
        </a>
    </div>
</div>

						<div th:if="${detail == null}" class="px-5 py-10 text-center text-jnGray-500">
							삭제되었거나 존재하지 않는 문의입니다.
						</div>

					</article>
				</div>
			</main>

			<div th:replace="~{template/footer :: footerFragment}"></div>
		</div>
	</div>
</body>
</html>
