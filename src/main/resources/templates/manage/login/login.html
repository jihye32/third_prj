<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>


<script>
const params = new URLSearchParams(window.location.search);
if (params.get("error") === "1") {
    alert("로그인에 실패하였습니다.");
}
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>쌍용장터 관리자센터 - 로그인</title>
    <link rel="stylesheet" type="text/css" href="./css/manager_login.css">
</head>
<body>

    <header id="kakaoHead">
        <div class="tit_logo">쌍용장터 관리자센터</div>
    </header>

    <div class="wrapper">
        <main id="main-container">
            <div class="login-box">
                <h1 class="login-title">쌍용장터 관리자 로그인</h1>
                
                <form id="loginForm" action="/adminLoginProcess" method="post">
                    <div class="input-section" id="section-id">
                        <label for="id">아이디</label>
                        <input type="text" id="id" name="adminId" placeholder="예) manager1234">
                        <p class="validation-msg">올바른 아이디를 입력해주세요.</p>
                    </div>
                    
                    <div class="input-section" id="section-pw">
                        <label for="password">비밀번호</label>
                        <input type="password" id="password" name="adminPass" placeholder="비밀번호를 입력하세요">
                        <p class="validation-msg">영문, 숫자, 특수문자를 조합해서 입력해주세요. (8-20자)</p>
                    </div>
                    
                    <button type="button" class="btn-login" onclick="validateLogin()">로그인</button>
                </form>
            </div>
        </main>
    </div>

    <script>
        function validateLogin() {
            const idInput = document.getElementById('id');
            const pwInput = document.getElementById('password');
            const sectionId = document.getElementById('section-id');
            const sectionPw = document.getElementById('section-pw');
            const form = document.getElementById('loginForm');

            let isValid = true;

            // 아이디 유효성 검사
            if (idInput.value.trim() === "") {
                sectionId.classList.add('error');
                isValid = false;
            } else {
                sectionId.classList.remove('error');
            }

            // 비밀번호 유효성 검사 (8자 이상)
            if (pwInput.value.trim() === "" || pwInput.value.length < 8) {
                sectionPw.classList.add('error');
                isValid = false;
            } else {
                sectionPw.classList.remove('error');
            }

            if (isValid) {
                form.submit();
            }
        }

        // 입력 시 실시간으로 에러 메시지 제거
        document.querySelectorAll('input').forEach(input => {
            input.addEventListener('input', function() {
                if (this.value.trim() !== "") {
                    this.parentElement.classList.remove('error');
                }
            });
        });
    </script>
</body>
</html>