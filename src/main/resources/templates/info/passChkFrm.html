<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
<title>내 정보</title>
<link th:href="@{/css/output.css}" rel="stylesheet">
<link th:href="@{/css/test.css}" rel="stylesheet">
<style type="text/css">
#chkMain {
	width: 100%;
	min-height: 500px;
}

.pw-wrap {
	width: 100%;
	max-width: 500px;
	margin: 100px auto 0;
	text-align: center;
}

.pw-title {
	width: 120%;
	margin-left: -10%;
	font-size: 30px;
	color: #333;
	font-weight: bold;
}

.pw-input {
	width: 100%;
	padding: 12px;
	font-size: 14px;
	border: 1px solid #ddd;
	border-radius: 4px;
	box-sizing: border-box;
	margin-top: 40px;
	margin-bottom: 15px;
}

.pw-btn {
	width: 100%;
	padding: 12px;
	background-color: #0DCC5A;
	border: none;
	border-radius: 4px;
	font-size: 14px;
	color: white;
	cursor: pointer;
}

.pw-btn:hover {
	filter: brightness(90%);
}
</style>
<!-- JQuery CDN -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script type="text/javascript">
$(function() {
    var passChkFlag = "[[${passChkFlag}]]";
    var errorMsg = "[[${errorMsg}]]";
    
    if (passChkFlag === "fail" && errorMsg) {
        alert(errorMsg);
    };// end if

    $("#passFrm").on("submit", function(e) {
        var pass = $("#pass").val().trim();
        
        if(pass === "") {
            // 브라우저의 자동 제출과 스크립트 제출을 모두 여기서 막습니다.
            e.preventDefault(); 
            e.stopImmediatePropagation(); // 이벤트 전파를 즉시 중단
            
            alert("비밀번호를 입력해주세요.");
            $("#pass").val("").focus();
            return false;
        };// end if
    });

    $(".pw-btn").on("click", function() {
        $("#passFrm").submit(); 
    });
});// ready
</script>
</head>
<body>
	<div id="__next">
		<div class="flex flex-col min-h-screen bg-white">
			<div th:replace="~{template/header :: headerImgFragment}"></div>
			<div th:replace="~{template/header :: headerFragment}"></div>

			<main class="relative flex-grow border-b-2" style="height: 400px;">
				<div class="mx-auto max-w-[1280px] px-5 md:px-8 2xl:px-16 box-content">
					<form id="passFrm" th:action="@{/info/passChkProcess}" method="post">
						<div class="pw-wrap">
							<p class="pw-title">비밀번호를 입력하여 인증해 주세요.</p>
							<input name="pass" id="pass" type="password" class="pw-input" />
							<button type="button" class="pw-btn">다음</button>
						</div>
					</form>
				</div>
			</main>

			<div th:replace="~{template/footer :: footerFragment}"></div>
		</div>
	</div>
	<div th:replace="~{template/wrapper_frm :: drawerFrame}"></div>
</body>
</html>