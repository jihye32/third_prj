<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.sist.user.login">
	<!-- member 테이블 조회 -->
	<select id="selectMember" parameterType="String" resultType="kr.co.sist.user.login.MemberDomain">
		select  m.user_id, 
	            m.user_pass, 
	            m.delete_flag,
	            s.store_num
	    from    member m
	    join    store s on m.user_id = s.user_id
	    where   m.user_id = #{value}
	</select>
	
	<!-- suspension 테이블 조회 -->
	<select id="selectSuspension" parameterType="String" resultType="kr.co.sist.user.login.SuspensionDomain">
		select user_id, flag, end_date 
		from suspension 
		where user_id = #{value}
	</select>
	
	<!-- 활동 정지 해제 -->
	<update id="updateSuspension" parameterType="String">
		update suspension 
		set flag = 'N',
			start_date = NULL,
			end_date = NULL
		where user_id = #{value}
	</update>
</mapper>









